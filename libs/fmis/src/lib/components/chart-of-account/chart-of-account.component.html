<div class="saveUpdateBar border mat-elevation-z2">
  <button
    mat-button
    class="save cursorPointer"
    data-bs-toggle="modal"
    data-bs-target="#newCOA"
  >
    <mat-icon>add</mat-icon>
    <span class="ps-2">New</span>
  </button>
</div>
<div class="row">
  <div class="col-md-12">
    <h2 class="pt-3 ps-4 pe-3">Add / Modify</h2>
    <hr />
  </div>
</div>
<div class="row">
  <society-chart-of-account-table (eventEmitter)="edit($event)"></society-chart-of-account-table>
</div>

<!-- modal window for chart of account entry -->
<!-- Modal -->
<div
  class="modal fade"
  id="newCOA"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
  data-bs-backdrop="false"
>
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content mat-elevation-z20">
      <div class="modal-header bg-light">
        <h4 class="modal-title text-primary" id="exampleModalLabel">
          Head Of Account
        </h4>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-4">
            <mat-form-field class="w-100">
              <mat-label>Type</mat-label>
              <mat-select [(ngModel)]="ddlType">
                <mat-option value="expense">Expense</mat-option>
                <mat-option value="income">Income</mat-option>
                <mat-option value="assets">Assets</mat-option>
                <mat-option value="liability">Liability</mat-option>
                <mat-option value="equity">Equity</mat-option>
              </mat-select>
            </mat-form-field>
            <!-- levels -->
            <mat-form-field class="w-100">
              <mat-label>Select Level</mat-label>
              <mat-select [(ngModel)]="formFields[3].value">
                <mat-option
                  *ngFor="let item of coaLevelsList"
                  [value]="item.coaLevel"
                >
                  Level {{ item.coaLevel }}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <!-- level 01 -->
            <div id="level01">
              <mat-form-field class="w-100" *ngIf="formFields[3].value > '1'">
                <mat-label>Select Level 01</mat-label>
                <mat-select [(ngModel)]="formFields[4].value">
                  <mat-option
                    *ngFor="let item of coaLevel1List"
                    [value]="item.level1"
                  >
                    {{ item.level1 }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <mat-form-field *ngIf="formFields[3].value == '1'" class="w-100">
                <mat-label>Enter Level 01</mat-label>
                <input matInput [(ngModel)]="formFields[4].value"
                (keyup)="getLevel('1')" />
              </mat-form-field>
            </div>

            <!-- level 02 -->
            <div id="level02">
              <mat-form-field class="w-100" *ngIf="formFields[3].value > '2'">
                <mat-label>Select Level 02</mat-label>
                <mat-select [(ngModel)]="formFields[5].value">
                  <mat-option
                    *ngFor="let item of coaLevel2List"
                    [value]="item.level2"
                  >
                    {{ item.level2 }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <mat-form-field *ngIf="formFields[3].value == '2'" class="w-100">
                <mat-label>Enter Level 02</mat-label>
                <input matInput [(ngModel)]="formFields[5].value" (keyup)="getLevel('2')" />
              </mat-form-field>
            </div>

            <!-- level 03 -->
            <div id="level03">
              <mat-form-field class="w-100" *ngIf="formFields[3].value > '3'">
                <mat-label>Select Level 03</mat-label>
                <mat-select [(ngModel)]="formFields[6].value">
                  <mat-option
                    *ngFor="let item of coaLevel3List"
                    [value]="item.level3"
                  >
                    {{ item.level3 }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <mat-form-field *ngIf="formFields[3].value == '3'" class="w-100">
                <mat-label>Enter Level 03</mat-label>
                <input matInput [(ngModel)]="formFields[6].value" (keyup)="getLevel('3')" />
              </mat-form-field>
            </div>

            <!-- level 04 -->
            <div id="level04">
              <!-- <mat-form-field class="w-100" *ngIf="formFields[3].value > 4">
                <mat-label>Select Level 04</mat-label>
                <mat-select>
                  <mat-option value="one">Medical Allowance</mat-option>
                  <mat-option value="two">Overtime</mat-option>
                </mat-select>
              </mat-form-field> -->
              <mat-form-field *ngIf="formFields[3].value == '4'" class="w-100">
                <mat-label>Enter Level 04</mat-label>
                <input matInput [(ngModel)]="formFields[7].value" (keyup)="getLevel('4')" />
              </mat-form-field>
            </div>
          </div>
          <div class="col-md-8 bg-light border">
            <div class="row mt-2">
              <div class="col-md-12 text-center">
                <h3 class="text-danger">{{lblAccountCode}}</h3>
              </div>
            </div>

            <mat-form-field class="w-100">
              <mat-label>Account Title</mat-label>
              <input matInput [(ngModel)]="formFields[9].value" />
            </mat-form-field>

            <mat-form-field class="w-100">
              <mat-label>Sub-Group</mat-label>
              <mat-select [(ngModel)]="formFields[10].value">
                <mat-option
                  *ngFor="let item of subGroupList"
                  [value]="item.subGroupID"
                >
                <table class="table">
                  <td class="col-6">{{ item.subGroup }}</td>
                  <td class="col-6">{{ item.mainGroup }}</td>
                </table>
                </mat-option>
              </mat-select>
            </mat-form-field>
            <mat-form-field class="w-100">
              <mat-label>Budget Head</mat-label>
              <mat-select [(ngModel)]="formFields[11].value">
                <mat-option
                  *ngFor="let item of budgetHeadList"
                  [value]="item.budgetsubCodeId"
                >
                <table class="table">
                  <td class="col-2">{{ item.budgetSubCode }}</td>
                  <td class="col-6 text-left">{{ item.budgetSubHead }}</td>
                  <td class="col-4">{{ item.budgetMainHead }}</td>
                </table>
                </mat-option>
              </mat-select>
            </mat-form-field>
            <h5>Is Transaction Allowed in this Head?</h5>
            <div class="row">
              <div class="col-md-12">
                <mat-radio-group aria-label="Select an option" [(ngModel)]="formFields[12].value">
                  <div class="d-flex flex-column">
                    <mat-radio-button value="1">Yes</mat-radio-button>
                    <mat-radio-button value="0">No</mat-radio-button>
                  </div>
                </mat-radio-group>
              </div>
            </div>
            <hr />
            <div class="row">
              <h5>Is it Member's Receipt Head?</h5>
              <div class="col-md-12">
                <section class="example-section">
                  <mat-checkbox class="example-margin" [(ngModel)]="formFields[13].value" value="1">Yes</mat-checkbox>
                </section>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer dark-light-bg">
        <div class="d-flex flex-row w-100 justify-content-around">
          <button mat-raised-button class="savebtn" (click)="save()">
            Save
          </button>
          <button mat-raised-button class="resetbtn" (click)="reset()">
            Reset
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- <div
  class="modal fade"
  id="newCOA"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
  data-bs-backdrop="false"
>
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content mat-elevation-z20">
      <div class="modal-header bg-light">
        <h4 class="modal-title text-primary" id="exampleModalLabel">
          Head Of Account
        </h4>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-4">
            <mat-form-field class="w-100">
              <mat-label>Type</mat-label>
              <mat-select>
                <mat-option value="one">Expense</mat-option>
                <mat-option value="two">Income</mat-option>
                <mat-option value="two">Asset</mat-option>
                <mat-option value="two">Liability</mat-option>
                <mat-option value="two">Equity</mat-option>
              </mat-select>
            </mat-form-field>
            <mat-form-field class="w-100">
              <mat-label>Account Code</mat-label>
              <input matInput />
            </mat-form-field>
            <mat-form-field class="w-100">
              <mat-label>Account Title</mat-label>
              <textarea matInput></textarea>
            </mat-form-field>
            <mat-form-field class="w-100">
              <mat-label>Budget Head</mat-label>
              <mat-select>
                <mat-option value="one">Pays & Allowances</mat-option>
                <mat-option value="two">Repair Maintenance</mat-option>
              </mat-select>
            </mat-form-field>
            <h5>Presentation</h5>
            <mat-radio-group aria-label="Select an option">
              <div class="d-flex flex-column">
                <mat-radio-button value="1">Income Statement</mat-radio-button>
                <mat-radio-button value="2">Balance Sheet</mat-radio-button>
                <mat-radio-button value="2">Trial Balance</mat-radio-button>
                <mat-radio-button value="2">Subsidary</mat-radio-button>
              </div>
            </mat-radio-group>
            <hr />
            <h5>Transaction</h5>
            <mat-radio-group aria-label="Select an option">
              <div class="d-flex flex-column">
                <mat-radio-button value="1">Allowed</mat-radio-button>
                <mat-radio-button value="2">Not Allowed</mat-radio-button>
              </div>
            </mat-radio-group>
          </div>
          <div class="col-md-8 bg-light border">
            <mat-tab-group>
              <mat-tab label="Tax Section">
                <div class="pt-3">
                  <mat-form-field class="w-100">
                    <mat-label>Tax Section</mat-label>
                    <mat-select>
                      <mat-option value="one">153(1)(a)</mat-option>
                      <mat-option value="two">152(1)(a)(c)</mat-option>
                    </mat-select>
                  </mat-form-field>
                  <mat-form-field class="w-100">
                    <mat-label>Tax Section Description</mat-label>
                    <mat-select>
                      <mat-option value="one">Tax on Supplies</mat-option>
                      <mat-option value="two">Tax on Services</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </mat-tab>
              <mat-tab label="Depreciation">
                <div class="pt-3">
                  <mat-form-field class="w-100">
                    <mat-label>Method</mat-label>
                    <mat-select>
                      <mat-option value="one">Straight Line</mat-option>
                      <mat-option value="two">Diminshing Balance</mat-option>
                      <mat-option value="two"
                        >Double Diminshing Balance</mat-option
                      >
                    </mat-select>
                  </mat-form-field>
                  <mat-form-field class="w-100">
                    <mat-label>Rate</mat-label>
                    <input matInput />
                  </mat-form-field>
                </div>
              </mat-tab>
              <mat-tab label="Bank Info">
                <mat-form-field class="w-100">
                  <mat-label>Bank</mat-label>
                  <mat-select>
                    <mat-option value="one">UBL</mat-option>
                    <mat-option value="two">ABL</mat-option>
                    <mat-option value="three">HBL</mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field class="w-100">
                  <mat-label>Branch</mat-label>
                  <mat-select>
                    <mat-option value="one">UBL RDF</mat-option>
                    <mat-option value="two">Civic Centre</mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field class="w-100">
                  <mat-label>Account Type</mat-label>
                  <mat-select>
                    <mat-option value="one">PLS Account</mat-option>
                    <mat-option value="two">Saving Account</mat-option>
                    <mat-option value="three">Salary Account</mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field class="w-100">
                  <mat-label>Opening Date</mat-label>
                  <input matInput [matDatepicker]="picker" />
                  <mat-datepicker-toggle
                    matSuffix
                    [for]="picker"
                  ></mat-datepicker-toggle>
                  <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
                <mat-form-field class="w-100">
                  <mat-label>Opening Balance</mat-label>
                  <textarea matInput></textarea>
                </mat-form-field>
              </mat-tab>
            </mat-tab-group>
          </div>
        </div>
      </div>
      <div class="modal-footer dark-light-bg">
        <div class="d-flex flex-row w-100 justify-content-around">
          <button mat-raised-button class="savebtn" (click)="save()">
            Save
          </button>
          <button mat-raised-button class="resetbtn" (click)="reset()">
            Reset
          </button>
        </div>
      </div>
    </div>
  </div>
</div> -->
