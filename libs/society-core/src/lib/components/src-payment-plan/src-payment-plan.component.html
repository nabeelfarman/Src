<div class="saveUpdateBar mat-elevation-z2">
  <button mat-button class="save" (click)="save()">
    <mat-icon>save</mat-icon>
    <span class="ps-2">Save</span>
  </button>
  <button mat-button class="save" (click)="reset()">
    <mat-icon>cached</mat-icon>
    <span class="ps-2">Reset</span>
  </button>
</div>
<div class="row h-100 p-0">
  <div class="col-md-3 p-2 ps-4 border">
    <h2 class="pt-2 ps-3 pe-3">Plan Info</h2>
    <mat-form-field class="w-100">
      <mat-label>Payment Plan Name</mat-label>
      <input matInput [(ngModel)]="formFields[3].value" />
    </mat-form-field>
    <mat-form-field class="w-100">
      <mat-label>Description</mat-label>
      <input matInput [(ngModel)]="formFields[4].value" />
    </mat-form-field>
    <mat-form-field class="w-100">
      <mat-label>Duration</mat-label>
      <mat-select [(ngModel)]="formFields[5].value">
        <mat-option *ngFor="let item of durationList" [value]="item.durationTypeID">
          {{item.durationTypeName}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div class="col-md-5 p-0 border">
    <h2 class="pt-2 ps-3 pe-3">Plan Detail</h2>
    <div class="table-responsive">
      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th class="text-center">Sr#</th>
            <th>Installment Type</th>
            <th class="text-right">Amount</th>
            <th class="text-center">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-center">0</td>
            <td>
              <select class="form-control" [(ngModel)]="cmbInstallment">
                <option *ngFor="let inst of installmentList" [value]="inst.installmentTypeID">
                  {{ inst.installmentTypeName }}
                </option>
              </select>
            </td>
            <td>
              <input type="number" class="form-control" [(ngModel)]="txtAmount" />
            </td>
            <td class="text-center">
              <span class="text-primary cursorPointer" (click)="addPaymentPlan()">
                <mat-icon>save</mat-icon>
              </span>
            </td>

          <tr *ngFor="let item of paymentPlanTable; let i = index">
            <td class="text-center">{{ i + 1 }}</td>
            <td>
              {{item.installmentTypeName}}
            </td>
            <td>
              {{item.amount | number}}
            </td>
            <td class="text-center">
              <span class="text-danger cursorPointer" (click)="remove(i)">
                <mat-icon>delete</mat-icon>
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>
  <div class="col-md-4">
    <h2 class="pt-2 pb-2 ps-2 border-bottom">Saved Plans</h2>
    <div class="d-flex flex-column">
      <society-src-payment-plan-table></society-src-payment-plan-table>
    </div>
  </div>
</div>
